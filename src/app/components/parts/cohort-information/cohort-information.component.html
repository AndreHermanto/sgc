<div *ngIf="sampleNotFound" class="message message-error">Sample not found</div>
<div *ngIf="!error && !denied">
    <div class="toolbar">
        <div>
            <div class='dc-data-count'>
                <div *ngIf="cohortSamplesInfo[selectedOption] !== null">
                    <span class='total-count'></span>
                    samples records selected out of <span style="color: #3182bd">{{cohortSamplesInfo[selectedOption]['gen']}}</span> samples by genotype filters.
                </div>
                <div>
                    <span class='filter-count'></span>
                    samples records selected out of <span class='total-count'></span> samples by phenotype filters.
                </div>
            </div>
        </div>
        <div class="actions">
		      <mat-slide-toggle *ngIf="family" style="vertical-align: middle;margin-right: 1em;" [(ngModel)]="includeFamily" (change)="toggleIncludeFamily($event)">Include Family</mat-slide-toggle>
          <mat-slide-toggle style="vertical-align: middle;" [(ngModel)]="showSampleCSV">Samples CSV</mat-slide-toggle>
          <button mat-button (click)="resetFilters()" class="filter-button">
            <mat-icon>refresh</mat-icon>
            Reset
          </button>
        </div>
    </div>
    <div class="charts" *ngIf="charts">
        <app-samples-list [sampleIDs]="externalIDs" [selectedSamples]="selectedExternalIDs" (onSelectSamples)="onSelectSamples($event)" [showSampleCSV]="showSampleCSV" (onUpdateSamples)="onUpdateSamples($event)"></app-samples-list>
        <div class="charts-control-container">
            <mat-form-field>
                <input matInput placeholder="Search" [(ngModel)]="toggleChartSearch">
                <button mat-button *ngIf="toggleChartSearch" matSuffix mat-icon-button aria-label="Clear" (click)="toggleChartSearch=''">
                    <mat-icon>close</mat-icon>
                </button>
            </mat-form-field>
            <div class="toggle-charts-container">
                <div class="filter-option" (click)="$event.stopPropagation(); $event.stopImmediatePropagation()">
                    <span class="filter-label">All</span>
                    <mat-slide-toggle (change)="checkedAll($event)" [(ngModel)]="allIsChecked"></mat-slide-toggle>
                </div>
                <div *ngFor="let c of charts">
                    <div *ngIf="c.label.toString().toLowerCase().includes(toggleChartSearch.toLowerCase())" class="filter-option" (click)="$event.stopPropagation(); $event.stopImmediatePropagation()">
                        <span class="filter-label">{{c.label}}</span>
                        <mat-slide-toggle [(ngModel)]="c.enabled"></mat-slide-toggle>
                    </div>
                </div>
            </div>
        </div>
        <div *ngFor="let c of charts">
          <app-clinical-cohort-chart [style.display]="c.enabled ? 'block' : 'none'" [data]="c" (hiddenChart)="onHidden($event)" [showSampleText]="c.name === 'sampleId' ? showSampleText : false"></app-clinical-cohort-chart>
        </div>
    </div>
  </div>
  <div *ngIf="denied" class="message message-error">You do not have permission to view this data.</div>
  <div *ngIf="error" class="message message-error">An unexpected error occurred, please try again or contact support</div>
  